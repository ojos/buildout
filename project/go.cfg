---
ansible:
    options:
          - "--ask-become-pass"
    config:
        path: ./.ansible.cfg
        roles_path:
          - repository: https://github.com/ojos/ansible-roles.git
            directory: ./.roles
        ini: |
            [defaults]
            retry_files_save_path = ./.retry/
    inventory: |
        localhost ansible_connection=local
    playbook:
      - hosts: localhost
        become: no
        vars:
            project_directory: "{{ ansible_user_dir }}/Workspace/sandbox"
            project_environment_variables:
              - value: PROJECT_HOME=$PWD
                regexp: PROJECT_HOME=\$PWD
              - value: PATH=$PROJECT_HOME/go/bin:$PATH
                regexp: \$PROJECT_HOME/go/bin\:\$PATH
            homebrew_packages:
              - direnv
              - git-flow
              - brew-cask
            homebrew_cask_options: "--appdir=/Applications"
            homebrew_cask_packages:
              - packer
              - terraform
              - vagrant
            xbuild_install_directory: "{{ project_directory }}/xbuild"
            xbuild_go_install_directory: "{{ project_directory }}/go"
            xbuild_go_os: darwin
            xbuild_go_arch: amd64
        roles:
          - homebrew_cask
          - project
          - vagrant_aws
          - xbuild_go

